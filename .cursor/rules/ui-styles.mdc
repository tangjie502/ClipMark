---
globs: *.css,*.html
---

# ClipMark 样式和用户界面规范

## 🎨 设计系统

### 色彩规范
- **主色调：** 现代蓝色系 `#1976d2`、`#2196f3`
- **辅助色：** 灰色系 `#424242`、`#757575`、`#bdbdbd`
- **功能色：**
  - 成功：`#4caf50`
  - 警告：`#ff9800`
  - 错误：`#f44336`
  - 信息：`#2196f3`

### 暗色主题支持
参考 [popup/lib/xq-dark.css](mdc:src/popup/lib/xq-dark.css) 和 [popup/lib/xq-light.css](mdc:src/popup/lib/xq-light.css)：
- **自动切换：** 根据系统偏好自动切换主题
- **用户选择：** 提供手动主题切换选项
- **一致性：** 确保所有组件支持两种主题

## 🖼️ 界面布局规范

### 弹窗界面 ([popup/popup.css](mdc:src/popup/popup.css))
**尺寸规范：**
- **宽度：** 最小 400px，最大 600px
- **高度：** 根据内容自适应，最大 700px
- **内边距：** 统一使用 16px 标准间距

**布局结构：**
```css
.popup-container {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: 16px;
}

.popup-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.popup-content {
  flex: 1;
  overflow-y: auto;
}

.popup-footer {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
}
```

### 设置页面 ([options/options.css](mdc:src/options/options.css))
**响应式设计：**
- **桌面端：** 双列布局，最大宽度 1200px
- **平板端：** 单列布局，适配中等屏幕
- **移动端：** 堆叠式布局，优化触摸操作

### 预览页面 ([preview/preview.css](mdc:src/preview/preview.css))
**编辑器集成：**
- **分屏布局：** 左侧编辑，右侧预览
- **全屏模式：** 支持全屏编辑和预览
- **工具栏：** 固定顶部的操作按钮栏

## 🎛️ 组件样式规范

### 按钮组件
```css
.btn {
  padding: 8px 16px;
  border-radius: 4px;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 14px;
  font-weight: 500;
}

.btn-primary {
  background-color: #1976d2;
  color: white;
}

.btn-primary:hover {
  background-color: #1565c0;
}

.btn-secondary {
  background-color: transparent;
  color: #1976d2;
  border: 1px solid #1976d2;
}
```

### 表单元素
```css
.form-group {
  margin-bottom: 16px;
}

.form-label {
  display: block;
  margin-bottom: 4px;
  font-weight: 500;
  color: #424242;
}

.form-input {
  width: 100%;
  padding: 8px 12px;
  border: 1px solid #bdbdbd;
  border-radius: 4px;
  font-size: 14px;
}

.form-input:focus {
  outline: none;
  border-color: #1976d2;
  box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2);
}
```

### 卡片组件
```css
.card {
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  padding: 16px;
  margin-bottom: 16px;
}

.card-header {
  margin-bottom: 12px;
  padding-bottom: 8px;
  border-bottom: 1px solid #e0e0e0;
}

.card-title {
  font-size: 16px;
  font-weight: 600;
  color: #212121;
  margin: 0;
}
```

## 📱 响应式设计

### 断点系统
```css
/* 移动端 */
@media (max-width: 767px) {
  .popup-container {
    padding: 12px;
    gap: 12px;
  }
  
  .btn {
    padding: 12px 16px;
    font-size: 16px;
  }
}

/* 平板端 */
@media (min-width: 768px) and (max-width: 1023px) {
  .options-container {
    grid-template-columns: 1fr;
  }
}

/* 桌面端 */
@media (min-width: 1024px) {
  .options-container {
    grid-template-columns: 1fr 2fr;
    gap: 24px;
  }
}
```

### 触摸优化
- **点击目标：** 最小44x44px的触摸区域
- **间距优化：** 移动端增加元素间距
- **滚动优化：** 使用平滑滚动和惯性滚动

## 🎭 动画和过渡效果

### 标准过渡时间
```css
:root {
  --transition-fast: 0.15s;
  --transition-normal: 0.25s;
  --transition-slow: 0.35s;
}
```

### 常用动画效果
```css
/* 淡入效果 */
.fade-in {
  animation: fadeIn var(--transition-normal) ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* 滑入效果 */
.slide-in {
  animation: slideIn var(--transition-normal) ease-out;
}

@keyframes slideIn {
  from {
    transform: translateY(-10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
```

## 🔧 CodeMirror 编辑器样式

### 主题配置
参考 [popup/lib/](mdc:src/popup/lib/) 中的CodeMirror样式文件：
- **亮色主题：** `xq-light.css` - 清爽的白色背景主题
- **暗色主题：** `xq-dark.css` - 护眼的深色背景主题

### 编辑器定制
```css
.CodeMirror {
  height: auto;
  font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', monospace;
  font-size: 13px;
  line-height: 1.5;
}

.CodeMirror-scroll {
  max-height: 400px;
}

.CodeMirror-focused .CodeMirror-selected {
  background: rgba(25, 118, 210, 0.1);
}
```

## 🌐 浏览器兼容性

### CSS兼容性处理
- **Flexbox：** 主要布局方案，兼容所有现代浏览器
- **Grid：** 复杂布局的补充方案
- **CSS变量：** 主题切换和样式管理
- **前缀处理：** 自动添加浏览器前缀

### Safari 特殊处理
```css
/* Safari滚动条样式 */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 4px;
}
```

## ♿ 无障碍访问

### 语义化HTML
```html
<!-- 正确的语义化结构 -->
<main role="main" aria-label="ClipMark主界面">
  <section aria-labelledby="content-section">
    <h2 id="content-section">内容预览</h2>
    <!-- 内容区域 -->
  </section>
</main>
```

### ARIA标签使用
```html
<button 
  aria-label="下载Markdown文件" 
  aria-describedby="download-help"
  type="button">
  下载
</button>
<div id="download-help" class="sr-only">
  点击下载转换后的Markdown文件到本地
</div>
```

### 键盘导航支持
- **Tab索引：** 合理的tabindex顺序
- **焦点指示：** 清晰的焦点视觉反馈
- **快捷键：** 支持键盘操作的快捷键

## 🚀 性能优化

### CSS优化
- **选择器优化：** 避免过度嵌套和复杂选择器
- **重绘重流：** 使用transform和opacity进行动画
- **关键CSS：** 内联关键样式，延迟加载非关键CSS

### 图片优化
- **矢量图标：** 优先使用SVG图标
- **响应式图片：** 使用srcset提供多分辨率版本
- **懒加载：** 非关键图片延迟加载