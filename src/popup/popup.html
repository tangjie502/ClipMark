
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="popup.css">
  </head>

<body>
  <div id="container">
    
    <a href="#" class="button toggle" id="downloadImages"><i class="check"></i>Download Images</a>
    <a href="/options/options.html" id="options" target="_blank">open options</a>
    <a href="#" id="batchProcess">batch</a>
    <div class="row" id="clipOption">
      <a href="#" class="button toggle" id="selected"><i class="check"></i>Selected Text</a>
      <a href="#" class="button toggle" id="document"><i class="check"></i>Entire Document</a>
    </div>
    <a href="#" class="button toggle" id="includeTemplate"><i class="check"></i>Include front/back template</a>
    <input type="text" id="title" placeholder="自定义文件名（可选）"></input>
    
    <!-- 预览区域 -->
    <div class="preview-area">
        <div class="preview-status" id="previewStatus">
            <div class="status-icon">📄</div>
            <div class="status-text">
                <div class="status-title">准备提取内容</div>
                <div class="status-desc">点击下方按钮开始提取当前页面内容</div>
            </div>
        </div>
        <div class="content-summary" id="contentSummary" style="display: none;">
            <div class="summary-header">
                <span class="summary-title" id="summaryTitle">内容已提取</span>
                <span class="summary-size" id="summarySize">0 字符</span>
            </div>
            <div class="summary-preview" id="summaryPreview">
                <!-- 内容摘要将显示在这里 -->
            </div>
        </div>
    </div>
    
    <div class="button-row">
        <a href="#" class="button primary" id="extract">📄 提取内容</a>
        <a href="#" class="button secondary" id="preview" style="display: none;">👁️ 预览</a>
    </div>
    <div class="button-row">
        <a href="#" class="button" id="download" style="display: none;">⬇️ 下载</a>
        <a href="#" class="button" id="copy" style="display: none;">📋 复制</a>
    </div>
    <div class="button-row">
        <a href="#" class="button" id="downloadSelection" style="display: none;">⬇️ 下载选中</a>
        <a href="#" class="button" id="copySelection" style="display: none;">📋 复制选中</a>
    </div>
  </div>
  <div id="batchContainer" style="display: none;">
    <h2 class="batch-title">Batch Processing</h2>
    <div class="button-row">
        <a href="#" class="button link-selector-btn" id="selectFromPage">📎 从页面选择链接</a>
    </div>
    <textarea id="urlList" placeholder="Enter URLs to convert (one per line)&#10;Or use the button above to select from current page&#10;Example:&#10;https://example.com/page1&#10;https://example.com/page2"></textarea>
    <div class="button-row">
        <a href="#" class="button" id="convertUrls">Convert All</a>
        <a href="#" class="button" id="cancelBatch">Cancel</a>
    </div>
    <div id="progressContainer" style="display: none;">
      <div class="progress-header">
          <span id="progressStatus">Processing URLs...</span>
          <span id="progressCount">0/0</span>
      </div>
      <div class="progress-bar-container">
          <div id="progressBar"></div>
      </div>
      <div id="currentUrl"></div>
  </div>
</div>
  <div id="spinner"></div>
  <script type="application/javascript" src="../browser-polyfill.min.js"></script>
  <script type="application/javascript" src="popup.js"></script>
</body>

</html>